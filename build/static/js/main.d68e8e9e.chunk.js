(this.webpackJsonpmassenger=this.webpackJsonpmassenger||[]).push([[0],{23:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),o=n(9),i=n.n(o),a=n(14),s=n(8),l=n(10),u=n.n(l),d=n(11),f=(n(24),d.a.initializeApp({apiKey:"AIzaSyDC9vzE8SUhq6XBXf4v70nFmcl3JxBsSyE",authDomain:"myflutterstorage.firebaseapp.com",projectId:"myflutterstorage",storageBucket:"myflutterstorage.appspot.com",messagingSenderId:"4772465365",appId:"1:4772465365:web:20cf9328db020847b3705c"})),h=(n(21),n(15)),j=n(0);var b=function(){var e=Object(r.useRef)(null),t=Object(r.useRef)(null),n=Object(r.useRef)(null),o=Object(r.useRef)(null),i=f.storage().ref("myfiles"),l=Object(r.useState)([]),d=Object(s.a)(l,2),b=d[0],g=d[1],p=Object(r.useState)(!0),v=Object(s.a)(p,2),O=v[0],x=v[1];return c.a.useLayoutEffect((function(){i.listAll().then((function(e){e.items.forEach((function(e){e.getDownloadURL().then((function(t){g((function(n){return[].concat(Object(a.a)(n),[{name:e.name,url:t}])}))}))}))})).then((function(){x(!1)}))}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("input",{type:"file",ref:e}),Object(j.jsx)("button",{ref:o,onClick:function(){var r=e.current.files[0];if(null!=r){var c=i.child(u()()+r.name).put(r);c.on("state_changed",(function(e){var n=e.bytesTransferred/e.totalBytes*100;t.current.value=n,o.current.textContent="Wait..."}),(function(e){console.log(e)}),(function(){c.snapshot.ref.getDownloadURL().then((function(r){n.current.href=r,t.current.value=0,e.current.value=null,n.current.innerHTML='<a target="_blank" href='.concat(r,">").concat(r,"</a>"),o.current.textContent="Save File"}))}))}},children:"Save File"}),Object(j.jsx)("br",{}),Object(j.jsx)("progress",{ref:t,max:100,value:0}),Object(j.jsx)("p",{ref:n,children:"No file uploaded"}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{className:"p-4",children:Object(j.jsxs)(h.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{style:{textAlign:"center"},children:[Object(j.jsx)("th",{children:"#"}),Object(j.jsx)("th",{children:"File name"}),Object(j.jsx)("th",{children:"File URL"})]})}),O?Object(j.jsx)("tbody",{children:Object(j.jsx)("tr",{children:Object(j.jsx)("td",{colSpan:3,style:{textAlign:"center"},children:"Loading..."})})}):Object(j.jsx)("tbody",{children:b.map((function(e,t){return Object(j.jsxs)("tr",{style:{textAlign:"center"},children:[Object(j.jsx)("td",{children:t+1}),Object(j.jsx)("td",{children:e.name}),Object(j.jsx)("td",{children:Object(j.jsx)("a",{href:e.url,download:!0,children:"Download file"})})]},t)}))})]})})]})},g=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function p(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(b,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");g?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):p(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):p(t,e)}))}}()}},[[23,1,2]]]);
//# sourceMappingURL=main.d68e8e9e.chunk.js.map